<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open My App</title>
</head>
<body>
    <h1>Opening My App...</h1>
    <script type="text/javascript">
        function getQueryParams() {
            const params = new URLSearchParams(window.location.search);
            return {
                code: params.get('code')
            };
        }

        window.onload = function() {
            const params = getQueryParams();
            const code = params.code;
            
            window.location.href = "myapp://xyzcorp.io/coupon?code=" + code;
            setTimeout(function() {
                if (/iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                    window.location.href = "https://apps.apple.com/app/1660500008";
                } else if (/Android/i.test(navigator.userAgent)) {
                    window.location.href = "https://play.google.com/store/apps/details?id=io.xyz.xexpressapp";
                } else {
                    alert("This device is not supported. code: " + code);
                }
            }, 2300);
        }
    </script>
</body>
</html>